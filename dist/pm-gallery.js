!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PmGallery=t():e.PmGallery=t()}(self,(()=>(()=>{"use strict";var e={d:(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>Y});var i="pm-gallery";const n={wrapper:i+"__wrapper",overlay:i+"__overlay",inner:i+"__inner",innerPreviews:i+"__inner--previews",innerMainPicture:i+"__inner--main-picture",mainPicture:i+"__main-picture",track:i+"__track",preview:i+"__preview",previewPicture:i+"__preview-picture",controls:i+"__controls",btnScreen:i+"__btn-screen",btnArrows:i+"__arrows",btnArrow:i+"__arrow",btnPrev:i+"__arrow--prev",btnNext:i+"__arrow--next",pagination:i+"__pagination",paginationList:i+"__pagination-list",paginationItem:i+"__pagination-item",paginationItemActive:"active",previewActive:"active",overflow:"overflow",horizontal:"horizontal",vertical:"vertical",fullScreen:"fullscreen",posPreviewsTop:"top",posPreviewsBottom:"bottom",posPreviewsLeft:"left",posPreviewsRight:"right",countPreSlidesAuto:"auto",disabled:"disabled"};function r(e){var t={},i=function(e){var t=document.querySelector(e);return t||console.error(e+" - element is not found"),t}(e),r=function(e){if(e){var t=e.querySelectorAll("img"),i=[];return t&&0!==t.length||console.error("Preview elements is not found"),t.forEach((function(e){var t=new Object;t.src=e.src,t.dataSrc=e.getAttribute("data-src"),t.alt=e.alt,i.push(t)})),e.innerHTML="",i}}(i);if(i&&0!==r.length)return t.wrapper=function(e){var t='\n        <div class="'.concat(n.wrapper,'">\n            <div class="').concat(n.overlay,'"></div>\n        </div>');return e.insertAdjacentHTML("afterbegin",t),e.querySelector("."+n.wrapper)}(i),t.innerPreviews=function(e){var t='<div class="'.concat(n.inner," ").concat(n.innerPreviews,'"></div>');return e.querySelector("."+n.wrapper).insertAdjacentHTML("beforeend",t),e.querySelector("."+n.innerPreviews)}(i),t.innerPicture=function(e){var t='<div class="'.concat(n.inner," ").concat(n.innerMainPicture,'"></div>');return e.querySelector("."+n.wrapper).insertAdjacentHTML("beforeend",t),e.querySelector("."+n.innerMainPicture)}(i),t.track=function(e){var t=e.querySelector("."+n.innerPreviews),i='<div class="'.concat(n.track,'"></div>');return t.insertAdjacentHTML("beforeend",i),t.querySelector("."+n.track)}(i),t.previews=function(e,t){for(var i=e.querySelector("."+n.track),r=function(e,t){return'<div class="'.concat(n.preview).concat(0===t?" active":"",'">\n                    <img src="').concat(e.src,'"')+(e.dataSrc?'data-src="'.concat(e.dataSrc,'"'):"")+'class="'.concat(n.previewPicture,'" alt="').concat(e.alt,'"></div>')},a=0;a<t.length;a++)i.insertAdjacentHTML("beforeend",r(t[a],a));return i.querySelectorAll("."+n.preview)}(i,r),t.mainPicture=function(e,t){var i=e.querySelector("."+n.innerMainPicture),r=t[0],a=r.dataSrc?r.dataSrc:r.src,o='<img src="'.concat(a,'" class="').concat(n.mainPicture,'" alt="').concat(r.alt,'">');return i.insertAdjacentHTML("beforeend",o),e.querySelector("."+n.mainPicture)}(i,r),t.controls=function(e){var t='<div class="'.concat(n.controls,'"></div>');return e.querySelector("."+n.innerMainPicture).insertAdjacentHTML("beforeend",t),e.querySelector("."+n.controls)}(i),t.btnScreen=function(e){var t='<div class="'.concat(n.btnScreen,'"></div>');return e.querySelector("."+n.controls).insertAdjacentHTML("beforeend",t),e.querySelector("."+n.btnScreen)}(i),t.pagination=function(e){var t="\n            <div class=".concat(n.pagination,">\n                <ul class=").concat(n.paginationList,">\n                </ul>\n            </div>");return e.querySelector("."+n.innerMainPicture).insertAdjacentHTML("beforeend",t),e.querySelector("."+n.pagination)}(i),t.paginationItems=function(e,t){for(var i=e.querySelector("."+n.paginationList),r="<li class=".concat(n.paginationItem,"></li>"),a=0;a<t.length;a++)i.insertAdjacentHTML("beforeend",r);return e.querySelectorAll("."+n.paginationItem)}(i,r),t.arrowsSlider=function(e){var t={},i='\n                <div class="'.concat(n.btnArrows,'">\n                    <div class="').concat(n.btnArrow," ").concat(n.btnPrev,'"></div>\n                    <div class="').concat(n.btnArrow," ").concat(n.btnNext,'"></div>\n                </div>');return e.querySelector("."+n.controls).insertAdjacentHTML("beforeend",i),t.arrowsSlider=e.querySelector("."+n.btnArrows),t.defBtnPrev=e.querySelector("."+n.btnPrev),t.defBtnNext=e.querySelector("."+n.btnNext),t}(i),t}const a={visiblePreviews:!0,positionPreviews:n.posPreviewsLeft,spaceBetween:8,borderRadius:4,countPreSlides:4,previewHeight:120,previewWidth:100,autoPlay:!1,swipeSlider:!0,pagination:!1,loop:!1,speedAnimScroll:300,fullScreen:{pagination:!0,speedAnimScroll:300,fullScreen:!0,visiblePreviews:!1,previewHeight:80,previewWidth:100,spaceBetween:8,countPreSlides:12,positionPreviews:n.posPreviewsBottom}},o=function(e){e.fullScreen?e.initOptions=Object.assign({},a.fullScreen,e.options.fullScreen):e.initOptions=Object.assign({},a,e.options),function(e){var t=document.documentElement.clientWidth,i=e.initOptions.breakpoints;if(i)for(var n=0,r=Object.keys(i);n<r.length;n++){var a=r[n];Number(a)<=t&&Object.assign(e.initOptions,i[a])}}(e)},s=function(e){var t=e.track,i=e.initOptions.speedAnimScroll,r=e.countHideSlides,a=e.activeIndex,o=0;e.posPreviews==n.vertical&&(o=e.previewHeight),e.posPreviews==n.horizontal&&(o=e.previewWidth);var s=a*o;if(0!==r)return a>1&&(s-=o),1===a&&(s=0),s>=r*o&&(e.posPreviews==n.vertical&&(s=e.trackHeight-e.wrapperHeight),e.posPreviews==n.horizontal&&(s=e.trackWidth-e.wrapperWidth)),e.posPreviews==n.vertical&&(t.style.transitionDuration=i+"ms",t.style.transform="translate(0, ".concat(-1*s+"px",")")),e.posPreviews==n.horizontal&&(t.style.transitionDuration=i+"ms",t.style.transform="translate(".concat(-1*s+"px",", 0)")),setTimeout((function(){t.style.transitionDuration="0ms"}),i),s};var c=["fade","fadeInLeft","fadeInRight","fadeInUp","flipInX","flipInY","zoomIn","slideInRight","slideInLeft"];const l=function(e,t){var i=e.mainPicture,n=e.previews[t].querySelector("img"),r=n.src,a=n.getAttribute("data-src");i.src=a||r,function(e,t){var i=e.mainPicture,n=e.initOptions.animSlide;c.includes(n)&&(i.classList.add(n),setTimeout((function(){i.classList.remove(n)}),500))}(e)},p=function(e,t){var i=e.paginationItems;i[e.activeIndex].classList.remove(n.paginationItemActive),i[t].classList.add(n.paginationItemActive)},u=function(e,t){e.wrapper.dispatchEvent(new CustomEvent("changeIndex",{detail:{activeIndex:t}}))},d=function(e){var t=e.initOptions.loop,i=e.countSlides,n=e.activeIndex;++n<=i-1&&u(e,n),t&&n===i&&u(e,n=0)},v=function(e,t){var i=e.initOptions.loop,n=e.countSlides-1;return e.autoPlayTimerId=setTimeout((function(){d(e),i||e.activeIndex!==n||clearTimeout(e.autoPlayTimerId)}),t),{autoPlayTimerId:e.autoPlayTimerId}},f=function(e){var t=e.initOptions.autoPlay;if(t)return"number"!=typeof t?console.error('The "autoPlay" option must have the type === number'):e.autoPlayTimerId?(clearTimeout(e.autoPlayTimerId),v(e,t)):v(e,t)},h=function(e){e.wrapper.addEventListener("changeIndex",(function(t){f(e),function(e,t){var i=e.previews;i[e.activeIndex].classList.remove(n.previewActive),i[t].classList.add(n.previewActive)}(e,t.detail.activeIndex),l(e,t.detail.activeIndex),p(e,t.detail.activeIndex),e.activeIndex=t.detail.activeIndex,s(e)}))},w=function(e){e.trackWidth<e.wrapperWidth&&e.trackHeight<e.wrapperHeight&&(e.track.style.transform="translate(0, 0)")},y=function(e){var t=new Object;return t.width=Math.round(e.getBoundingClientRect().width),t.height=Math.round(e.getBoundingClientRect().height),t};var g={previewWidth:0,previewHeight:0,trackWidth:0,trackHeight:0,countSlides:0,countHideSlides:0,wrapperHeight:0,wrapperWidth:0,innerPreviewsHeight:0,innerPreviewsWidth:0,hideTrackLength:0,spaceBetween:0};const m=function(e){var t=e.initOptions,i=e.previews,r=e.posPreviews,a=e.initOptions.spaceBetween,o=i.length,s=y(e.wrapper),c=r===n.vertical,l=a*(o-1),p=t.countPreSlides,u=t.previewHeight,d=t.previewWidth;if("number"==typeof p){var v=a*(p-1);c?u=Math.abs(s.height-v)/p:d=Math.abs(s.width-v)/p}if(g.innerPreviewsHeight=c?s.height:t.previewHeight,g.innerPreviewsWidth=c?t.previewWidth:s.width,g.trackWidth=c?d:o*d+l,g.trackHeight=c?o*u+l:u,g.hideTrackLength=c?g.trackHeight-s.height:g.trackWidth-s.width,g.countSlides=o,g.wrapperHeight=s.height,g.wrapperWidth=s.width,g.previewWidth=d,g.previewHeight=u,g.spaceBetween=a,g.hideTrackLength>0){var f=c?u:d;g.countHideSlides=Math.ceil(g.hideTrackLength/(f+a))}else g.countHideSlides=0;return g},P=function(e){var t=e.initOptions.positionPreviews,i={posPreviews:n.vertical};return t?(t!==n.posPreviewsLeft&&t!==n.posPreviewsRight||(i.posPreviews=n.vertical),t!==n.posPreviewsTop&&t!==n.posPreviewsBottom||(i.posPreviews=n.horizontal),i):i},b=function(e,t){var i=y(e.wrapper),r=e.innerPreviews,a=e.innerPicture,o=e.track;r.style.display="block",t===n.posPreviewsLeft&&(r.style.left=0,r.style.right="auto",a.style.left=e.previewWidth+e.spaceBetween+"px",a.style.right="auto"),t===n.posPreviewsRight&&(r.style.left="auto",r.style.right=0,a.style.left=0),r.style.top="0",r.style.bottom="auto",r.style.width=e.previewWidth+"px",r.style.height=i.height+"px",a.style.top=0,a.style.bottom="auto",a.style.width=i.width-e.previewWidth-e.spaceBetween+"px",a.style.height=i.height+"px",o.className="",o.classList.add(n.track),o.classList.add(n.vertical)},S=function(e,t){var i=y(e.wrapper),r=e.innerPreviews,a=e.innerPicture,o=e.track;r.style.display="block",t===n.posPreviewsTop&&(r.style.top=0,r.style.bottom="auto",a.style.top=e.previewHeight+e.spaceBetween+"px",a.style.bottom=0),t===n.posPreviewsBottom&&(r.style.top="auto",r.style.bottom=0,a.style.top=0,a.style.bottom="auto"),r.style.left=0,r.style.right="auto",r.style.width="100%",r.style.height=e.previewHeight+"px",a.style.left=0,a.style.right="auto",a.style.width="100%",a.style.height=i.height-e.previewHeight-e.spaceBetween+"px",o.className="",o.classList.add(n.track),o.classList.add(n.horizontal)},L=function(e,t){if(void 0===t&&(t=e.initOptions.positionPreviews),e.initOptions.visiblePreviews)switch(t){case n.posPreviewsLeft:b(e,n.posPreviewsLeft);break;case n.posPreviewsRight:b(e,n.posPreviewsRight);break;case n.posPreviewsTop:S(e,n.posPreviewsTop);break;case n.posPreviewsBottom:S(e,n.posPreviewsBottom);break;default:b(e,n.posPreviewsLeft)}else!function(e){var t=e.innerPreviews,i=e.innerPicture,n=e.track;t.style.display="none",i.style.width="100%",i.style.height="100%",t.style.top=0,t.style.bottom=0,i.style.left=0,i.style.right=0,n.className=""}(e)},k=function(e){e.previews.forEach((function(t){var i=t;i.style.height=e.previewHeight+"px",i.style.width=e.previewWidth+"px",e.posPreviews===n.vertical?i.style.marginBottom=e.spaceBetween+"px":i.style.marginRight=e.spaceBetween+"px"}))},x=function(e){[P,m,w,k,L].forEach((function(t){Object.assign(e,t(e))}))},I=function(e){window.addEventListener("resize",(function(){o(e),x(e)}))},H=function(e){var t=e.initOptions.pagination,i=e.pagination.classList.contains("hide");t?(i&&e.pagination.classList.remove("hide"),p(e,e.activeIndex)):i||e.pagination.classList.add("hide")},T=function(e){var t=e.initOptions.borderRadius;t&&"number"==typeof t&&e.wrapper.style.setProperty("--border-radius",t+"px")},_=function(e){[T].forEach((function(t){t(e)}))},E=function(e){var t=e.initOptions.fullScreen,i=e.pagination.classList.contains("hide");t?i&&e.btnScreen.classList.remove("hide"):i||e.btnScreen.classList.add("hide")},O=function(e){[_,H,f,E].forEach((function(t){e=Object.assign(e,t(e))}))},A=function(e){e.wrapper.addEventListener("fullScreen",(function(){o(e),x(e),O(e)}))},q=function(e){var t=e.initOptions.loop,i=e.countSlides,n=e.activeIndex;--n>=0&&u(e,n),t&&n<0&&u(e,n=i-1)},j=function(e){e.arrowsSlider.defBtnPrev.addEventListener("click",(function(){q(e)})),e.arrowsSlider.defBtnNext.addEventListener("click",(function(){d(e)}))},M=function(e){for(var t=e.previews,i=function(i){t[i].addEventListener("click",(function(){u(e,i)}))},n=0;n<t.length;n++)i(n)},B=function(e){var t=document.querySelector("body"),i=e.wrapper;e.fullScreen=!e.fullScreen,i.classList.toggle(n.fullScreen),t.classList.toggle(n.overflow),function(e,t){e.wrapper.dispatchEvent(new CustomEvent("fullScreen",{detail:{fullScreen:t}}))}(e,e.fullScreen)},W=function(e){e.btnScreen.addEventListener("click",(function(){B(e)}))},z=function(e){for(var t=e.paginationItems,i=function(i){t[i].addEventListener("click",(function(){u(e,i)}))},n=0;n<t.length;n++)i(n)},N=function(e){var t=e.initOptions.controls;if(t){var i=document.querySelector(t.btnPrev),r=document.querySelector(t.btnNext),a=document.querySelector(t.btnFullScreen);i&&(e.wrapper.querySelector("."+n.btnPrev).classList.add("user-hide"),i.addEventListener("click",(function(){q(e)}))),r&&(e.wrapper.querySelector("."+n.btnNext).classList.add("user-hide"),r.addEventListener("click",(function(){d(e)}))),a&&(e.wrapper.querySelector("."+n.btnScreen).classList.add("user-hide"),a.addEventListener("click",(function(){B(e)})))}},G=function(e){e.initOptions.swipeSlider&&[e.arrowsSlider.arrowsSlider,e.mainPicture].forEach((function(t){!function(e,t){t.addEventListener("pointerdown",(function(i){var n=i.clientX;t.addEventListener("pointerup",(function i(r){var a=r.clientX;n<a&&q(e),n>a&&d(e),t.removeEventListener("pointerup",i)}))})),t.ondragstart=function(){return!1},t.onselectstart=function(){return!1}}(e,t)}))},R=function(e){return[j,M,W,z,h,A,I,N,G].forEach((function(t){t(e)})),{activeIndex:0}},D=function(e){var t=e.innerPreviews,i=e.track,r=0,a=e.hideTrackLength,o=0;window.addEventListener("resize",(function(){a=e.hideTrackLength,r=0,i.style.transform="translate(0, 0)"})),e.wrapper.addEventListener("changeIndex",(function(t){if(""!==i.style.transform){var a=i.style.transform;e.posPreviews==n.vertical&&(r=Number(a.replace(/[A-Za-z(),]/g,"").split(" ")[1])),e.posPreviews==n.horizontal&&(r=Number(a.replace(/[A-Za-z(),]/g,"").split(" ")[0]))}})),e.wrapper.addEventListener("fullScreen",(function(t){if(o=a/e.hideTrackLength,r=Math.round(r/o),a=e.hideTrackLength,e.hideTrackLength<0)return i.style.transform="translate(0, 0)";e.posPreviews==n.vertical&&(i.style.transform="translate(0, ".concat(r+"px",")")),e.posPreviews==n.horizontal&&(i.style.transform="translate(".concat(r+"px",", 0)"))})),t.addEventListener("wheel",(function(t){if(t.preventDefault(),a<0)return i.style.transform="translate(0, 0)";t.wheelDeltaY<0?r-=30:r+=30,r>0&&(r=0),Math.abs(r)>=a&&(r=-1*a),e.posPreviews==n.vertical&&(i.style.transform="translate(0, ".concat(r+"px",")")),e.posPreviews==n.horizontal&&(i.style.transform="translate(".concat(r+"px",", 0)"))}))},C=function(e){[D,s].forEach((function(t){t(e)}))},X=function(e){[x,C].forEach((function(t){e=Object.assign(e,t(e))}))},Y=function(){function e(e,t){this.on=function(e,t){var i=this.pmGallery.wrapper;i&&i.addEventListener(e,t)},this.options=t,this.init(e)}return e.prototype.init=function(e){var t=this,i=r(e);if(i){this.pmGallery=this,this.pmGallery=Object.assign(i,this);var n=[R,X,O];[o].forEach((function(e){t.pmGallery=Object.assign(t.pmGallery,e(t.pmGallery))})),n.forEach((function(e){t.pmGallery=Object.assign(t.pmGallery,e(t.pmGallery))})),console.log(this.pmGallery)}},e}();return t.default})()));