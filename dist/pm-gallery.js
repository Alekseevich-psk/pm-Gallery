!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PmGallery=t():e.PmGallery=t()}(self,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>J});var n="pm-gallery";const i={wrapper:n+"__wrapper",overlay:n+"__overlay",inner:n+"__inner",innerPreviews:n+"__inner--previews",innerMainPicture:n+"__inner--main-picture",mainPicture:n+"__main-picture",track:n+"__track",preview:n+"__preview",previewPicture:n+"__preview-picture",controls:n+"__controls",btnScreen:n+"__btn-screen",btnArrows:n+"__arrows",btnArrow:n+"__arrow",btnPrev:n+"__arrow--prev",btnNext:n+"__arrow--next",pagination:n+"__pagination",paginationList:n+"__pagination-list",paginationItem:n+"__pagination-item",paginationItemActive:"active",previewActive:"active",overflow:"overflow",horizontal:"horizontal",vertical:"vertical",fullScreen:"fullscreen",posPreviewsTop:"top",posPreviewsBottom:"bottom",posPreviewsLeft:"left",posPreviewsRight:"right",countPreSlidesAuto:"auto",disabled:"disabled"};function r(e){var t={},n=function(e){var t=document.querySelector(e);return t||console.error(e+" - element is not found"),t}(e),r=function(e){if(e){var t=e.querySelectorAll("img"),n=[];return t&&0!==t.length||console.error("Preview elements is not found"),t.forEach((function(e){var t=new Object;t.src=e.src,t.dataSrc=e.getAttribute("data-src"),t.alt=e.alt,n.push(t)})),e.innerHTML="",n}}(n);if(n&&0!==r.length)return t.wrapper=function(e){var t='\n        <div class="'.concat(i.wrapper,'">\n            <div class="').concat(i.overlay,'"></div>\n        </div>');return e.insertAdjacentHTML("afterbegin",t),e.querySelector("."+i.wrapper)}(n),t.innerPreviews=function(e){var t='<div class="'.concat(i.inner," ").concat(i.innerPreviews,'"></div>');return e.querySelector("."+i.wrapper).insertAdjacentHTML("beforeend",t),e.querySelector("."+i.innerPreviews)}(n),t.innerPicture=function(e){var t='<div class="'.concat(i.inner," ").concat(i.innerMainPicture,'"></div>');return e.querySelector("."+i.wrapper).insertAdjacentHTML("beforeend",t),e.querySelector("."+i.innerMainPicture)}(n),t.track=function(e){var t=e.querySelector("."+i.innerPreviews),n='<div class="'.concat(i.track,'"></div>');return t.insertAdjacentHTML("beforeend",n),t.querySelector("."+i.track)}(n),t.previews=function(e,t){for(var n=e.querySelector("."+i.track),r=function(e,t){return'<div class="'.concat(i.preview).concat(0===t?" active":"",'">\n                    <img src="').concat(e.src,'"')+(e.dataSrc?'data-src="'.concat(e.dataSrc,'"'):"")+'class="'.concat(i.previewPicture,'" alt="').concat(e.alt,'"></div>')},o=0;o<t.length;o++)n.insertAdjacentHTML("beforeend",r(t[o],o));return n.querySelectorAll("."+i.preview)}(n,r),t.mainPicture=function(e,t){var n=e.querySelector("."+i.innerMainPicture),r=t[0],o=r.dataSrc?r.dataSrc:r.src,a='<img src="'.concat(o,'" class="').concat(i.mainPicture,'" alt="').concat(r.alt,'">');return n.insertAdjacentHTML("beforeend",a),e.querySelector("."+i.mainPicture)}(n,r),t.controls=function(e){var t='<div class="'.concat(i.controls,'"></div>');return e.querySelector("."+i.innerMainPicture).insertAdjacentHTML("beforeend",t),e.querySelector("."+i.controls)}(n),t.btnScreen=function(e){var t='<div class="'.concat(i.btnScreen,'"></div>');return e.querySelector("."+i.controls).insertAdjacentHTML("beforeend",t),e.querySelector("."+i.btnScreen)}(n),t.pagination=function(e){var t="\n            <div class=".concat(i.pagination,">\n                <ul class=").concat(i.paginationList,">\n                </ul>\n            </div>");return e.querySelector("."+i.innerMainPicture).insertAdjacentHTML("beforeend",t),e.querySelector("."+i.pagination)}(n),t.paginationItems=function(e,t){for(var n=e.querySelector("."+i.paginationList),r="<li class=".concat(i.paginationItem,"></li>"),o=0;o<t.length;o++)n.insertAdjacentHTML("beforeend",r);return e.querySelectorAll("."+i.paginationItem)}(n,r),t.arrowsSlider=function(e){var t={},n='\n                <div class="'.concat(i.btnArrows,'">\n                    <div class="').concat(i.btnArrow," ").concat(i.btnPrev,'"></div>\n                    <div class="').concat(i.btnArrow," ").concat(i.btnNext,'"></div>\n                </div>');return e.querySelector("."+i.controls).insertAdjacentHTML("beforeend",n),t.arrowsSlider=e.querySelector("."+i.btnArrows),t.defBtnPrev=e.querySelector("."+i.btnPrev),t.defBtnNext=e.querySelector("."+i.btnNext),t}(n),t}const o=function(e){var t=e.track,n=e.initOptions.speedAnimScroll,r=e.countHideSlides,o=e.activeIndex,a=0;e.posPreviews==i.vertical&&(a=e.previewHeight),e.posPreviews==i.horizontal&&(a=e.previewWidth);var s=o*a;if(0!==r)return o>1&&(s-=a),1===o&&(s=0),s>=r*a&&(e.posPreviews==i.vertical&&(s=e.trackHeight-e.wrapperHeight),e.posPreviews==i.horizontal&&(s=e.trackWidth-e.wrapperWidth)),e.posPreviews==i.vertical&&(t.style.transitionDuration=n+"ms",t.style.transform="translate(0, ".concat(-1*s+"px",")")),e.posPreviews==i.horizontal&&(t.style.transitionDuration=n+"ms",t.style.transform="translate(".concat(-1*s+"px",", 0)")),setTimeout((function(){t.style.transitionDuration="0ms"}),n),s};var a=["fade","fadeInLeft","fadeInRight","fadeInUp","flipInX","flipInY","zoomIn","slideInRight","slideInLeft"];const s=function(e,t){var n=e.mainPicture,i=e.previews[t].querySelector("img"),r=i.src,o=i.getAttribute("data-src");n.src=o||r,function(e,t){var n=e.mainPicture,i=e.initOptions.animSlide;a.includes(i)&&(n.classList.add(i),setTimeout((function(){n.classList.remove(i)}),500))}(e)},c=function(e,t){var n=e.paginationItems;n[e.activeIndex].classList.remove(i.paginationItemActive),n[t].classList.add(i.paginationItemActive)},l=function(e,t){e.wrapper.dispatchEvent(new CustomEvent("changeIndex",{detail:{activeIndex:t}}))},d=function(e){var t=e.initOptions.loop,n=e.countSlides,i=e.activeIndex;++i<=n-1&&l(e,i),t&&i===n&&l(e,i=0)},u=function(e,t){var n=e.initOptions.loop,i=e.countSlides-1;return e.autoPlayTimerId=setTimeout((function(){d(e),n||e.activeIndex!==i||clearTimeout(e.autoPlayTimerId)}),t),{autoPlayTimerId:e.autoPlayTimerId}},p=function(e){var t=e.initOptions.autoPlay;if(t)return"number"!=typeof t?console.error('The "autoPlay" option must have the type === number'):e.autoPlayTimerId?(clearTimeout(e.autoPlayTimerId),u(e,t)):u(e,t)};var v=function(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};const f=function(e,t){var n,r;if(!e.initOptions.loop){var o=[],a=[];(null===(n=e.userControls)||void 0===n?void 0:n.btnPrev)&&o.push(e.userControls.btnPrev),(null===(r=e.userControls)||void 0===r?void 0:r.btnNext)&&o.push(e.userControls.btnNext),o.push(e.arrowsSlider.defBtnPrev),a.push(e.arrowsSlider.defBtnNext);var s=v(v([],o,!0),a,!0),c=i.disabled;t>0&&t<e.countSlides-1&&s.forEach((function(e){e&&e.classList.contains(c)&&e.classList.remove(c)})),0===t&&o.forEach((function(e){e&&!e.classList.contains(c)&&e.classList.add(c)})),t===e.countSlides-1&&a.forEach((function(e){e&&!e.classList.contains(c)&&e.classList.add(c)}))}},h=function(e){e.wrapper.addEventListener("changeIndex",(function(t){p(e),f(e,t.detail.activeIndex),function(e,t){var n=e.previews;n[e.activeIndex].classList.remove(i.previewActive),n[t].classList.add(i.previewActive)}(e,t.detail.activeIndex),c(e,t.detail.activeIndex),s(e,t.detail.activeIndex),e.activeIndex=t.detail.activeIndex,o(e)}))},w=function(e){e.trackWidth<e.wrapperWidth&&e.trackHeight<e.wrapperHeight&&(e.track.style.transform="translate(0, 0)")},y=function(e){var t=new Object;return t.width=Math.round(e.getBoundingClientRect().width),t.height=Math.round(e.getBoundingClientRect().height),t};var g={previewWidth:0,previewHeight:0,trackWidth:0,trackHeight:0,countSlides:0,countHideSlides:0,wrapperHeight:0,wrapperWidth:0,innerPreviewsHeight:0,innerPreviewsWidth:0,hideTrackLength:0,spaceBetween:0};const m=function(e){var t=e.initOptions,n=e.previews,r=e.posPreviews,o=e.initOptions.spaceBetween,a=n.length,s=y(e.wrapper),c=r===i.vertical,l=o*(a-1),d=t.countPreSlides,u=t.previewHeight,p=t.previewWidth;if("number"==typeof d){var v=o*(d-1);c?u=Math.abs(s.height-v)/d:p=Math.abs(s.width-v)/d}if(g.innerPreviewsHeight=c?s.height:t.previewHeight,g.innerPreviewsWidth=c?t.previewWidth:s.width,g.trackWidth=c?p:a*p+l,g.trackHeight=c?a*u+l:u,g.hideTrackLength=c?g.trackHeight-s.height:g.trackWidth-s.width,g.countSlides=a,g.wrapperHeight=s.height,g.wrapperWidth=s.width,g.previewWidth=p,g.previewHeight=u,g.spaceBetween=o,g.hideTrackLength>0){var f=c?u:p;g.countHideSlides=Math.ceil(g.hideTrackLength/(f+o))}else g.countHideSlides=0;return g},P=function(e){var t=e.initOptions.positionPreviews,n={posPreviews:i.vertical};return t?(t!==i.posPreviewsLeft&&t!==i.posPreviewsRight||(n.posPreviews=i.vertical),t!==i.posPreviewsTop&&t!==i.posPreviewsBottom||(n.posPreviews=i.horizontal),n):n},b=function(e,t){var n=y(e.wrapper),r=e.innerPreviews,o=e.innerPicture,a=e.track;r.style.display="block",t===i.posPreviewsLeft&&(r.style.left=0,r.style.right="auto",o.style.left=e.previewWidth+e.spaceBetween+"px",o.style.right="auto"),t===i.posPreviewsRight&&(r.style.left="auto",r.style.right=0,o.style.left=0),r.style.top="0",r.style.bottom="auto",r.style.width=e.previewWidth+"px",r.style.height=n.height+"px",o.style.top=0,o.style.bottom="auto",o.style.width=n.width-e.previewWidth-e.spaceBetween+"px",o.style.height=n.height+"px",a.className="",a.classList.add(i.track),a.classList.add(i.vertical)},S=function(e,t){var n=y(e.wrapper),r=e.innerPreviews,o=e.innerPicture,a=e.track;r.style.display="block",t===i.posPreviewsTop&&(r.style.top=0,r.style.bottom="auto",o.style.top=e.previewHeight+e.spaceBetween+"px",o.style.bottom=0),t===i.posPreviewsBottom&&(r.style.top="auto",r.style.bottom=0,o.style.top=0,o.style.bottom="auto"),r.style.left=0,r.style.right="auto",r.style.width="100%",r.style.height=e.previewHeight+"px",o.style.left=0,o.style.right="auto",o.style.width="100%",o.style.height=n.height-e.previewHeight-e.spaceBetween+"px",a.className="",a.classList.add(i.track),a.classList.add(i.horizontal)},L=function(e,t){if(void 0===t&&(t=e.initOptions.positionPreviews),e.initOptions.visiblePreviews)switch(t){case i.posPreviewsLeft:b(e,i.posPreviewsLeft);break;case i.posPreviewsRight:b(e,i.posPreviewsRight);break;case i.posPreviewsTop:S(e,i.posPreviewsTop);break;case i.posPreviewsBottom:S(e,i.posPreviewsBottom);break;default:b(e,i.posPreviewsLeft)}else!function(e){var t=e.innerPreviews,n=e.innerPicture,i=e.track;t.style.display="none",n.style.width="100%",n.style.height="100%",t.style.top=0,t.style.bottom=0,n.style.left=0,n.style.right=0,i.className=""}(e)},x=function(e){e.previews.forEach((function(t){var n=t;n.style.height=e.previewHeight+"px",n.style.width=e.previewWidth+"px",e.posPreviews===i.vertical?n.style.marginBottom=e.spaceBetween+"px":n.style.marginRight=e.spaceBetween+"px"}))},k=function(e){[P,m,w,x,L].forEach((function(t){Object.assign(e,t(e))}))},I={visiblePreviews:!0,positionPreviews:i.posPreviewsLeft,spaceBetween:8,borderRadius:4,countPreSlides:4,previewHeight:120,previewWidth:100,autoPlay:!1,swipeSlider:!0,pagination:!1,loop:!1,speedAnimScroll:300,fullScreen:{pagination:!0,speedAnimScroll:300,fullScreen:!0,visiblePreviews:!1,previewHeight:80,previewWidth:100,spaceBetween:8,countPreSlides:12,positionPreviews:i.posPreviewsBottom}},E=function(e){e.fullScreen?e.initOptions=Object.assign({},I.fullScreen,e.options.fullScreen):e.initOptions=Object.assign({},I,e.options),function(e){var t=document.documentElement.clientWidth,n=e.initOptions.breakpoints;if(n)for(var i=0,r=Object.keys(n);i<r.length;i++){var o=r[i];Number(o)<=t&&Object.assign(e.initOptions,n[o])}}(e)},H=function(e){window.addEventListener("resize",(function(){E(e),k(e)}))},T=function(e){var t=e.initOptions.pagination,n=e.pagination.classList.contains("hide");t?(n&&e.pagination.classList.remove("hide"),c(e,e.activeIndex)):n||e.pagination.classList.add("hide")},A=function(e){var t=e.initOptions.borderRadius;t&&"number"==typeof t&&e.wrapper.style.setProperty("--border-radius",t+"px")},O=function(e){[A].forEach((function(t){t(e)}))},_=function(e){var t=e.initOptions.fullScreen,n=e.pagination.classList.contains("hide");t?n&&e.btnScreen.classList.remove("hide"):n||e.btnScreen.classList.add("hide")},q=function(e){[O,T,p,_].forEach((function(t){e=Object.assign(e,t(e))}))},B=function(e){e.wrapper.addEventListener("fullScreen",(function(){E(e),k(e),q(e)}))},j=function(e){var t=e.initOptions.loop,n=e.countSlides,i=e.activeIndex;--i>=0&&l(e,i),t&&i<0&&l(e,i=n-1)},M=function(e){e.arrowsSlider.defBtnPrev.addEventListener("click",(function(){j(e)})),e.arrowsSlider.defBtnNext.addEventListener("click",(function(){d(e)}))},W=function(e){for(var t=e.previews,n=function(n){t[n].addEventListener("click",(function(){l(e,n)}))},i=0;i<t.length;i++)n(i)},N=function(e){var t=document.querySelector("body"),n=e.wrapper;e.fullScreen=!e.fullScreen,n.classList.toggle(i.fullScreen),t.classList.toggle(i.overflow),function(e,t){e.wrapper.dispatchEvent(new CustomEvent("fullScreen",{detail:{fullScreen:t}}))}(e,e.fullScreen)},z=function(e){e.btnScreen.addEventListener("click",(function(){N(e)}))},C=function(e){for(var t=e.paginationItems,n=function(n){t[n].addEventListener("click",(function(){l(e,n)}))},i=0;i<t.length;i++)n(i)},R=function(e){e.initOptions.swipeSlider&&[e.arrowsSlider.arrowsSlider,e.mainPicture].forEach((function(t){!function(e,t){t.addEventListener("pointerdown",(function(n){var i=n.clientX;t.addEventListener("pointerup",(function n(r){var o=r.clientX;i<o&&j(e),i>o&&d(e),t.removeEventListener("pointerup",n)}))})),t.ondragstart=function(){return!1},t.onselectstart=function(){return!1}}(e,t)}))},G=function(e){if(e.userControls){var t=e.userControls.btnPrev,n=e.userControls.btnNext,i=e.userControls.btnScreen;t&&t.addEventListener("click",(function(){j(e)})),n&&n.addEventListener("click",(function(){d(e)})),i&&i.addEventListener("click",(function(){N(e)}))}},D=function(e){return[M,W,z,C,G,h,B,H,R].forEach((function(t){t(e)})),{activeIndex:0}},X=function(e){var t=e.innerPreviews,n=e.track,r=0,o=e.hideTrackLength,a=0;window.addEventListener("resize",(function(){o=e.hideTrackLength,r=0,n.style.transform="translate(0, 0)"})),e.wrapper.addEventListener("changeIndex",(function(t){if(""!==n.style.transform){var o=n.style.transform;e.posPreviews==i.vertical&&(r=Number(o.replace(/[A-Za-z(),]/g,"").split(" ")[1])),e.posPreviews==i.horizontal&&(r=Number(o.replace(/[A-Za-z(),]/g,"").split(" ")[0]))}})),e.wrapper.addEventListener("fullScreen",(function(t){if(a=o/e.hideTrackLength,r=Math.round(r/a),o=e.hideTrackLength,e.hideTrackLength<0)return n.style.transform="translate(0, 0)";e.posPreviews==i.vertical&&(n.style.transform="translate(0, ".concat(r+"px",")")),e.posPreviews==i.horizontal&&(n.style.transform="translate(".concat(r+"px",", 0)"))})),t.addEventListener("wheel",(function(t){if(t.preventDefault(),o<0)return n.style.transform="translate(0, 0)";t.wheelDeltaY<0?r-=30:r+=30,r>0&&(r=0),Math.abs(r)>=o&&(r=-1*o),e.posPreviews==i.vertical&&(n.style.transform="translate(0, ".concat(r+"px",")")),e.posPreviews==i.horizontal&&(n.style.transform="translate(".concat(r+"px",", 0)"))}))},Y=function(e){[X,o].forEach((function(t){t(e)}))},Z=function(e){[k,Y].forEach((function(t){e=Object.assign(e,t(e))}))},F=function(e){(function(e){var t=e.initOptions.controls;if(t){var n={},i=document.querySelector(t.btnPrev),r=document.querySelector(t.btnNext),o=document.querySelector(t.btnFullScreen);i&&(e.arrowsSlider.defBtnPrev&&e.arrowsSlider.defBtnPrev.classList.add("user-hide"),n.btnPrev=i),r&&(e.arrowsSlider.defBtnNext&&e.arrowsSlider.defBtnNext.classList.add("user-hide"),n.btnNext=r),o&&(e.btnScreen&&e.btnScreen.classList.add("user-hide"),n.btnScreen=o),e.userControls=n}})(e),f(e,e.activeIndex)},U=function(e){[E,F].forEach((function(t){e=Object.assign(e,t(e))}))},J=function(){function e(e,t){this.on=function(e,t){var n=this.pmGallery.wrapper;n&&n.addEventListener(e,t)},this.options=t,this.init(e)}return e.prototype.init=function(e){var t=this,n=r(e);n&&(this.pmGallery=Object.assign({},this,n),[U,D,Z,q].forEach((function(e){t.pmGallery=Object.assign(t.pmGallery,e(t.pmGallery))})))},e}();return t.default})()));